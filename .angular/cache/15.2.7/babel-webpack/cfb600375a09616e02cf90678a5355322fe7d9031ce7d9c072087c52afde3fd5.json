{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../_services/product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/grid-list\";\nfunction ProductViewDetailsComponent_mat_grid_tile_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 14);\n    i0.ɵɵlistener(\"click\", function ProductViewDetailsComponent_mat_grid_tile_7_Template_mat_grid_tile_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.changeIndex(i_r2));\n    });\n    i0.ɵɵelement(1, \"img\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const file_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", file_r1.url, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class ProductViewDetailsComponent {\n  constructor(activatedRoute, router, productService) {\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.productService = productService;\n    this.selectedProductIndex = 0;\n  }\n  ngOnInit() {\n    this.product = this.activatedRoute.snapshot.data['product'];\n  }\n  changeIndex(index) {\n    this.selectedProductIndex = index;\n  }\n  buyProduct(productId) {\n    this.router.navigate(['/buyProduct', {\n      isSingleProductCheckout: true,\n      id: productId\n    }]);\n  }\n  addToCart(productId) {\n    this.productService.addToCart(productId).subscribe(response => {\n      console.log(response);\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nProductViewDetailsComponent.ɵfac = function ProductViewDetailsComponent_Factory(t) {\n  return new (t || ProductViewDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService));\n};\nProductViewDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductViewDetailsComponent,\n  selectors: [[\"app-product-view-details\"]],\n  decls: 27,\n  vars: 6,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"row\"], [1, \"col-6\"], [1, \"card\", \"image-container\", \"p-3\"], [1, \"product-zoom-image\", 3, \"src\"], [1, \"mt-2\"], [\"cols\", \"3\", \"gutterSize\", \"10\", \"rowHeight\", \"1:1\"], [\"style\", \"border: 1px solid lightgrey; cursor: pointer\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-information\"], [1, \"mt-3\"], [2, \"text-decoration\", \"line-through\"], [1, \"mt-5\", \"text-center\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 2, \"width\", \"200px\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"width\", \"200px\", 3, \"click\"], [2, \"border\", \"1px solid lightgrey\", \"cursor\", \"pointer\", 3, \"click\"], [\"height\", \"100px\", 3, \"src\"]],\n  template: function ProductViewDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"mat-grid-list\", 6);\n      i0.ɵɵtemplate(7, ProductViewDetailsComponent_mat_grid_tile_7_Template, 2, 1, \"mat-grid-tile\", 7);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 8)(10, \"div\", 9)(11, \"h2\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 9);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 9)(16, \"b\");\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18, \" \\u00A0 \");\n      i0.ɵɵelementStart(19, \"b\", 10);\n      i0.ɵɵtext(20);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 11)(22, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function ProductViewDetailsComponent_Template_button_click_22_listener() {\n        return ctx.buyProduct(ctx.product.productId);\n      });\n      i0.ɵɵtext(23, \" \\u041A\\u0443\\u043F\\u0438\\u0442\\u044C \\u0441\\u0435\\u0439\\u0447\\u0430\\u0441 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(24, \" \\u00A0 \");\n      i0.ɵɵelementStart(25, \"button\", 13);\n      i0.ɵɵlistener(\"click\", function ProductViewDetailsComponent_Template_button_click_25_listener() {\n        return ctx.addToCart(ctx.product.productId);\n      });\n      i0.ɵɵtext(26, \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443 \");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"src\", ctx.product.productImages[ctx.selectedProductIndex].url, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.product.productImages);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.product.productName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430: \", ctx.product.productDescription, \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\\u0420\\u0443\\u0431. \", ctx.product.productDiscountedPrice, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.product.productActualPrice);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.MatButton, i5.MatGridList, i5.MatGridTile],\n  styles: [\".product-information[_ngcontent-%COMP%] {\\r\\n  font-size: medium;\\r\\n}\\r\\n\\r\\n.image-container[_ngcontent-%COMP%] {\\r\\n  height: 500px;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.product-zoom-image[_ngcontent-%COMP%] {\\r\\n  max-width: 90%;\\r\\n  max-height: 90%;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  margin: auto;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC12aWV3LWRldGFpbHMvcHJvZHVjdC12aWV3LWRldGFpbHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sU0FBUztFQUNULE9BQU87RUFDUCxRQUFRO0VBQ1IsWUFBWTtBQUNkIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2R1Y3QtaW5mb3JtYXRpb24ge1xyXG4gIGZvbnQtc2l6ZTogbWVkaXVtO1xyXG59XHJcblxyXG4uaW1hZ2UtY29udGFpbmVyIHtcclxuICBoZWlnaHQ6IDUwMHB4O1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLnByb2R1Y3Qtem9vbS1pbWFnZSB7XHJcbiAgbWF4LXdpZHRoOiA5MCU7XHJcbiAgbWF4LWhlaWdodDogOTAlO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAYUA,yCAIG;IAHDA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IAGvBA,0BACD;IAAAA,iBAAgB;;;;IADVA,eAAgB;IAAhBA,mDAAgB;;;ACNlC,OAAM,MAAOC,2BAA2B;EAKtCC,YACUC,cAA8B,EAC9BC,MAAc,EACdC,cAA8B;IAF9B,mBAAc,GAAdF,cAAc;IACd,WAAM,GAANC,MAAM;IACN,mBAAc,GAAdC,cAAc;IALxB,yBAAoB,GAAG,CAAC;EAMrB;EAEHC,QAAQ;IACN,IAAI,CAACC,OAAO,GAAG,IAAI,CAACJ,cAAc,CAACK,QAAQ,CAACC,IAAI,CAAC,SAAS,CAAC;EAC7D;EAEAC,WAAW,CAACC,KAAa;IACvB,IAAI,CAACC,oBAAoB,GAAGD,KAAK;EACnC;EAEAE,UAAU,CAACC,SAAc;IACvB,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CACnB,aAAa,EACb;MACEC,uBAAuB,EAAE,IAAI;MAC7BC,EAAE,EAAEH;KACL,CACF,CAAC;EACJ;EAEAI,SAAS,CAACJ,SAAc;IACtB,IAAI,CAACT,cAAc,CAACa,SAAS,CAACJ,SAAS,CAAC,CAACK,SAAS,CAC/CC,QAAQ,IAAI;MACXC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACvB,CAAC,EACAG,KAAK,IAAI;MACRF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IACpB,CAAC,CACF;EACH;;AAtCWtB,2BAA2B;mBAA3BA,2BAA2B;AAAA;AAA3BA,2BAA2B;QAA3BA,2BAA2B;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVxC5B,8BAA4B;MAIpBA,yBAGE;MACJA,iBAAM;MAENA,8BAAkB;MAEdA,gGAKkB;MACpBA,iBAAgB;MAGpBA,8BAAmB;MAGTA,aAAyB;MAAAA,iBAAK;MAEpCA,+BAAkB;MAChBA,aAEF;MAAAA,iBAAM;MACNA,+BAAkB;MACbA,aAAyC;MAAAA,iBAAI;MAACA,yBACjD;MAAAA,8BAAyC;MAAAA,aAEvC;MAAAA,iBAAI;MAERA,gCAA8B;MAK1BA;QAAA,OAAS6B,qCAA6B;MAAA,EAAC;MAEvC7B,4FACF;MAAAA,iBAAS;MACTA,yBACA;MAAAA,mCAKC;MADCA;QAAA,OAAS6B,oCAA4B;MAAA,EAAC;MAEtC7B,qHACF;MAAAA,iBAAS;;;MAhDTA,eAAuD;MAAvDA,+FAAuD;MASpCA,eAA0B;MAA1BA,mDAA0B;MAUzCA,eAAyB;MAAzBA,6CAAyB;MAG7BA,eAEF;MAFEA,sJAEF;MAEKA,eAAyC;MAAzCA,qFAAyC;MACHA,eAEvC;MAFuCA,oDAEvC","names":["i0","ProductViewDetailsComponent","constructor","activatedRoute","router","productService","ngOnInit","product","snapshot","data","changeIndex","index","selectedProductIndex","buyProduct","productId","navigate","isSingleProductCheckout","id","addToCart","subscribe","response","console","log","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\hit\\Git\\Course-work.-Construction-materials-store-FRONT-end\\src\\app\\product-view-details\\product-view-details.component.html","C:\\hit\\Git\\Course-work.-Construction-materials-store-FRONT-end\\src\\app\\product-view-details\\product-view-details.component.ts"],"sourcesContent":["<div class=\"container mt-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <div class=\"card image-container p-3\">\r\n        <img\r\n          [src]=\"product.productImages[selectedProductIndex].url\"\r\n          class=\"product-zoom-image\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"mt-2\">\r\n        <mat-grid-list cols=\"3\" gutterSize=\"10\" rowHeight=\"1:1\">\r\n          <mat-grid-tile\r\n            (click)=\"changeIndex(i)\"\r\n            *ngFor=\"let file of product.productImages; let i = index\"\r\n            style=\"border: 1px solid lightgrey; cursor: pointer\"\r\n            ><img [src]=\"file.url\" height=\"100px\"\r\n          /></mat-grid-tile>\r\n        </mat-grid-list>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <div class=\"product-information\">\r\n        <div class=\"mt-3\">\r\n          <h2>{{ product.productName }}</h2>\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          Описание товара:\r\n          {{ product.productDescription }}\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <b>Руб. {{ product.productDiscountedPrice }}</b> &nbsp;\r\n          <b style=\"text-decoration: line-through\">{{\r\n            product.productActualPrice\r\n          }}</b>\r\n        </div>\r\n        <div class=\"mt-5 text-center\">\r\n          <button\r\n            mat-raised-button\r\n            color=\"warn\"\r\n            style=\"width: 200px\"\r\n            (click)=\"buyProduct(product.productId)\"\r\n          >\r\n            Купить сейчас\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            mat-raised-button\r\n            color=\"primary\"\r\n            style=\"width: 200px\"\r\n            (click)=\"addToCart(product.productId)\"\r\n          >\r\n            Добавить в корзину\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Product } from '../_model/product.model';\r\nimport { ProductService } from '../_services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-product-view-details',\r\n  templateUrl: './product-view-details.component.html',\r\n  styleUrls: ['./product-view-details.component.css'],\r\n})\r\nexport class ProductViewDetailsComponent {\r\n  product!: Product;\r\n\r\n  selectedProductIndex = 0;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private productService: ProductService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.product = this.activatedRoute.snapshot.data['product'];\r\n  }\r\n\r\n  changeIndex(index: number) {\r\n    this.selectedProductIndex = index;\r\n  }\r\n\r\n  buyProduct(productId: any) {\r\n    this.router.navigate([\r\n      '/buyProduct',\r\n      {\r\n        isSingleProductCheckout: true,\r\n        id: productId,\r\n      },\r\n    ]);\r\n  }\r\n\r\n  addToCart(productId: any) {\r\n    this.productService.addToCart(productId).subscribe(\r\n      (response) => {\r\n        console.log(response);\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}